{% extends "@FOSUser/layout.html.twig" %}

{% trans_default_domain 'FOSUserBundle' %}

{% block fos_user_content %}
    {#<h4 style="margin-top: 20px">Liste des utilisateurs</h4>#}
<div class="table-responsive">
    <script type='text/javascript'>
        window.onload=function(){
            var rows = document.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++)
            {
                rows[i].onclick = function() {
                    console.log(this.getElementsByTagName("td"));
                };
            }
        }
    </script>
    <div class="container">

    <div>
        <button  class="btn" style="background-color: #1a4d71;margin-top: 10px">
            <a href="{{ path('fos_user_registration_register') }}"  style="color: white" ><span style="color: white" class="glyphicon glyphicon-user"></span> Ajouter un utilisateur</a>
        </button>
    </div>
    <table class="table table-striped table-bordered table-list text-center" style="margin-top: 10px">
        <thead>
        <tr class="bg-primary" style="background-color: #00547E;">
            <th style="text-align: center">Nom d'utilisateur</th>
            <th style="text-align: center">Nom</th>
            <th style="text-align: center">Pr√©nom</th>
            <th style="text-align: center">Email</th>
            <th style="text-align: center">Roles</th>
            <th style="width: 20%; text-align: center"><em class="glyphicon glyphicon-cog"></em></th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.username}}</td>
                <td>{{ user.getNom() }}</td>
                <td>{{ user.getPrenom() }}</td>
                <td>{{ user.email }}</td>
                <td>{% for role in user.roles %}
                        {% if  loop.last %}
                            {{ role }}
                        {% else %}
                            {{ role }},
                        {% endif %}
                    {% endfor %}</td>
                <td>
                    <div class="buttons">
                        <a href="{{ path('fos_user_profile_edit', { 'id': user.id }) }}" class="btn btn-success"><em class="glyphicon glyphicon-pencil"></em></a>
                       {#<a href="{{ path('fos_user_group_delete', { 'id': user.id }) }}" class="btn btn-danger"><em class="glyphicon glyphicon-pencil"></em></a>#}
                        {#<button type="button" class="btn btn-success"><i class="glyphicon glyphicon-pencil"></i></button>#}
                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-trash"></i></button>
                    </div>
                    {#<div class="modal fade" id="myedit" role="dialog">#}
                        {#<div class="modal-dialog">#}

                            {#<!-- Modal content-->#}
                            {#<div class="modal-content" style="margin-top: 45%">#}
                                {#<div class="modal-header" style="background-color: #1a4d71;">#}
                                    {#<button type="button" class="close" data-dismiss="modal">&times;</button>#}
                                    {#<h4 class="modal-title" style="color: white;text-align: center ">Confirmation</h4>#}
                                {#</div>#}
                                {#<div class="modal-body"  style="text-align: center ">#}
                                    {#<h4>Vous voulez vraiment le modifier ?</h4>#}
                                {#</div>#}
                                {#<div class="modal-footer">#}
                                    {#<button type="button" class="btn btn-success" data-dismiss="modal">Annuler</button>#}
                                    {#<a href="{{ path('fos_user_profile_edit', { 'id': user.id }) }}" class="btn btn-danger">Modifier</a>#}
                                    {#<a href="{{ path('fos_user_registration_register') }}"  style="color: white" ><span style="color: white" class="glyphicon glyphicon-user"></span> Ajouter un utilisateur</a>#}
                                {#</div>#}
                            {#</div>#}

                        {#</div>#}
                    {#</div>#}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content" style="margin-top: 45%">
                <div class="modal-header" style="background-color: #1a4d71;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" style="color: white;text-align: center ">Confirmation</h4>
                </div>
                <div class="modal-body"  style="text-align: center ">
                    <h4>Vous voulez vraiment le supprimer ?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-danger">Supprimer</button>
                </div>
            </div>

        </div>
    </div>
    <div class="modal fade" id="myedit" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content" style="margin-top: 45%">
                <div class="modal-header" style="background-color: #1a4d71;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" style="color: white;text-align: center ">Confirmation</h4>
                </div>
                <div class="modal-body"  style="text-align: center ">
                    <h4>Vous voulez vraiment le modifier ?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-danger">Modifier</button>
                </div>
            </div>

        </div>
    </div>

</div>
{% endblock fos_user_content %}
