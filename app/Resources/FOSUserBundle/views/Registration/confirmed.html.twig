{% extends "@FOSUser/layout.html.twig" %}

{% trans_default_domain 'FOSUserBundle' %}

{% block fos_user_content %}
    <h4 style="margin-top: 20px">Liste des utilisateurs</h4>
<div class="table-responsive">
    <script type='text/javascript'>
        window.onload=function(){
            var rows = document.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++)
            {
                rows[i].onclick = function() {
                    console.log(this.getElementsByTagName("td"));
                };
            }
        }
    </script>
    <table class="table table-striped table-bordered table-list text-center">
        <thead>
        <tr class="bg-primary">
            <th>Nom d'utilisateur</th>
            <th>Nom</th>
            <th>Pr√©nom</th>
            <th>Email</th>
            <th>Roles</th>
            <th style="width: 20%; text-align: center"><em class="glyphicon glyphicon-cog"></em></th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.username}}</td>
                <td>{{ user.getNom() }}</td>
                <td>{{ user.getPrenom() }}</td>
                <td>{{ user.email }}</td>
                <td>{% for role in user.roles %}
                        {{ role }},
                    {% endfor %}</td>
                <td>
                    <div class="buttons">
                        <button type="button" class="btn btn-success"><i class="glyphicon glyphicon-pencil"></i></button>
                        <button type="button" class="btn btn-danger"><i class="glyphicon glyphicon-trash"></i></button>
                    </div>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
    <div>
        <button  class="btn btn-primary">
            <a href="{{ path('fos_user_registration_register') }}"  style="color: white" ><span style="color: white" class="glyphicon glyphicon-user"></span> Ajouter un utilisateur</a>
        </button>
    </div>
{% endblock fos_user_content %}
