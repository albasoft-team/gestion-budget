{% extends 'base.html.twig' %}

{% block body %}
    <div ng-controller="analyseDonnees">
        <div id="panelMap" class="panel panel-primary panelChart">
            <div class="panel-heading">Sénégal</div>
            <div class="panel-body">
                <div ng-if="msg.length > 0" style="margin: 20px;">
                    <span class="alert alert-danger" ng-repeat="mes in msg">[[mes]]</span>
                </div>
                <form id="formAnalyse" class="form-inline" name="myForm">
                    <div class="form-group">
                        <label for="numcompte">Composant à analyser:</label>
                        <select type="text" ng-model="formData.composant" class="form-control" id="numcompte" required>
                            <option></option>
                            {% for compte in comptes %}
                                <option value="{{ compte.numeroCompte }}">{{ compte.numeroCompte }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="axe">Choisir un axe :</label>
                        <select type="text" ng-model="formData.axe" class="form-control" id="axe" required>
                            <option></option>
                            {% for axe in axes  %}
                                <option value="{{ axe.code }}">{{ axe.designation }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="axe">Choisir une portée :</label>
                        <select type="text" ng-model="formData.portee" class="form-control" id="axe" required>
                            <option></option>
                            <option value="departement">Département</option>
                            <option value="commune">Commune</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="button" ng-click="analyser(formData)" class="btn btn-default">Analyser</button>
                    </div>
                </form>
                <div style="width: 600px; display: block;margin-left: auto; margin-right: auto" id="chart-container"></div>
                {#<div id="chart-container"></div>#}

                <div style="display: none; width: 400px; margin-left: auto; margin-right: auto" id="message" class=""></div>
            </div>
        </div>
        {#<div id="chartContainer">A world map will load here!</div>#}

        <div id='panel2' class='panel panel-primary' style="display: none">
            <div id="head" class='panel-heading'></div>
            <div class='panel-body'>
                <div class='chartRen col-lg-6 col-md-12 col-xs-12 col-sm-12' style=" padding: 10px" id= 'linkedchart-container'></div>
                <div class='chartRen col-lg-6 col-md-12 col-xs-12 col-sm-12' style=" padding: 10px" id= 'linkedchart-container1'></div>
            </div>
        </div>
    </div>



{% endblock %}
{% block javascripts %}
{% endblock %}